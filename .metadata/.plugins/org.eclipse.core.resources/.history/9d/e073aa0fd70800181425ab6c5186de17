package mypack.DeltaToFeature;

import org.eclipse.emf.common.util.URI; 
import org.eclipse.emf.common.util.WrappedException; 
import org.eclipse.emf.ecore.resource.ResourceSet; 
import org.eclipse.xtext.util.concurrent.IUnitOfWork; 
 
/**
 * @author Jan Koehnlein - Initial contribution and API 
 * @author Andr√© Arnold  - ported to runtime SOABaseDsl 
 */ 
public class SimpleLocalResourceAccess implements ILocalResourceAccess { 
 
 private ResourceSet resourceSet; 
 
 public SimpleLocalResourceAccess(ResourceSet resourceSet) { 
  this.resourceSet = resourceSet; 
 } 
 
 public <R> R readOnly(URI targetURI, IUnitOfWork<R, ResourceSet> work) { 
  try { 
   return work.exec(resourceSet); 
  } catch(Exception exc) { 
   throw new WrappedException(exc); 
  } 
 } 
 
}